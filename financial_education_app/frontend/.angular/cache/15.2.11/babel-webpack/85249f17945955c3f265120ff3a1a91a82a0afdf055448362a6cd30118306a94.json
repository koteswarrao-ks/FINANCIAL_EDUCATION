{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/user-profile.service\";\nimport * as i2 from \"@angular/common\";\nfunction HomeComponent_p_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Hi \", ctx_r0.profile.name, \"! Let's learn something fun today!\");\n  }\n}\nfunction HomeComponent_p_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Hi there! Let's learn something fun today!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_14_div_1_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"span\", 38);\n    i0.ɵɵtext(2, \"\\u2764\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 39);\n    i0.ɵɵtext(4, \"Hobbies:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 40);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r7.profile.personalization.hobbies.join(\", \"));\n  }\n}\nfunction HomeComponent_div_14_div_1_div_8_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"span\", 38);\n    i0.ɵɵtext(2, \"\\uD83D\\uDCD6\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 39);\n    i0.ɵɵtext(4, \"Favorite Subjects:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 40);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r8.profile.personalization.favoriteSubjects.join(\", \"));\n  }\n}\nfunction HomeComponent_div_14_div_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtemplate(1, HomeComponent_div_14_div_1_div_8_div_1_Template, 7, 1, \"div\", 36);\n    i0.ɵɵtemplate(2, HomeComponent_div_14_div_1_div_8_div_2_Template, 7, 1, \"div\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.profile.personalization.hobbies && ctx_r6.profile.personalization.hobbies.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.profile.personalization.favoriteSubjects && ctx_r6.profile.personalization.favoriteSubjects.length > 0);\n  }\n}\nfunction HomeComponent_div_14_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"div\", 31)(2, \"div\", 32)(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 33)(6, \"strong\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(8, HomeComponent_div_14_div_1_div_8_Template, 3, 2, \"div\", 34);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r5.profile.name, \", Age \", ctx_r5.profile.age, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r5.profile.country);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.profile.personalization);\n  }\n}\nfunction HomeComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtemplate(1, HomeComponent_div_14_div_1_Template, 9, 4, \"div\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.profile && ctx_r2.profile.name);\n  }\n}\nfunction HomeComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41);\n    i0.ɵɵelement(1, \"div\", 42);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Loading your profile...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction HomeComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 43)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_16_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.loadProfile());\n    });\n    i0.ɵɵtext(4, \"Retry\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u274C \", ctx_r4.error, \"\");\n  }\n}\nexport class HomeComponent {\n  userProfileService;\n  cdr;\n  childId = 'kid_001';\n  isLoading = false;\n  isLoadingProfile = false;\n  error = null;\n  rewards = null;\n  profile = null;\n  reasoning = null;\n  constructor(userProfileService, cdr) {\n    this.userProfileService = userProfileService;\n    this.cdr = cdr;\n  }\n  ngOnInit() {\n    this.loadRewards();\n    this.loadProfile();\n  }\n  loadRewards() {\n    this.userProfileService.getRewards(this.childId).subscribe({\n      next: response => {\n        if (response && response.success) {\n          this.rewards = response;\n        } else {\n          // Set default rewards if API fails\n          this.rewards = {\n            points: 0,\n            level: 1,\n            badges: []\n          };\n        }\n        this.cdr.detectChanges();\n      },\n      error: error => {\n        console.error('Failed to load rewards:', error);\n        // Set default rewards on error\n        this.rewards = {\n          points: 0,\n          level: 1,\n          badges: []\n        };\n        this.cdr.detectChanges();\n      }\n    });\n  }\n  loadProfile() {\n    this.isLoadingProfile = true;\n    this.error = null;\n    this.profile = null;\n    console.log('Loading profile for:', this.childId);\n    console.log('API URL:', 'http://localhost:8000/api/profile/analyze');\n    // First check if backend is reachable\n    fetch('http://localhost:8000/').then(() => {\n      console.log('Backend is reachable');\n    }).catch(() => {\n      console.error('Backend is NOT reachable!');\n      this.error = 'Backend API is not running. Please start it with: cd backend && ./start_api.sh';\n      this.isLoadingProfile = false;\n      this.cdr.detectChanges();\n      return;\n    });\n    // Add timeout to prevent infinite loading\n    const timeout = setTimeout(() => {\n      if (this.isLoadingProfile) {\n        console.error('Profile loading timeout!');\n        this.error = 'Profile loading timed out. Make sure backend is running on http://localhost:8000';\n        this.isLoadingProfile = false;\n        this.cdr.detectChanges();\n      }\n    }, 15000); // 15 second timeout\n    this.userProfileService.analyzeProfile(this.childId).subscribe({\n      next: response => {\n        clearTimeout(timeout);\n        console.log('Profile response received:', response);\n        console.log('Response type:', typeof response);\n        console.log('Response keys:', Object.keys(response || {}));\n        try {\n          if (response) {\n            if (response.success === true && response.profile) {\n              this.profile = response.profile;\n              this.reasoning = response.reasoning;\n              // Store in service for other components\n              this.userProfileService.currentProfile = response.profile;\n              console.log('Profile loaded successfully:', this.profile);\n              console.log('Profile name:', this.profile?.name);\n              this.isLoadingProfile = false;\n              this.cdr.detectChanges();\n              return;\n            } else if (response.profile) {\n              // Sometimes API might return profile directly\n              this.profile = response.profile;\n              this.reasoning = response.reasoning;\n              this.userProfileService.currentProfile = response.profile;\n              console.log('Profile loaded (direct):', this.profile);\n              this.isLoadingProfile = false;\n              this.cdr.detectChanges();\n              return;\n            }\n          }\n          console.error('Invalid profile response structure:', response);\n          this.error = 'Failed to load profile: Invalid response structure';\n          this.isLoadingProfile = false;\n          this.cdr.detectChanges();\n        } catch (e) {\n          console.error('Error processing profile response:', e);\n          this.error = 'Error processing profile data';\n          this.isLoadingProfile = false;\n          this.cdr.detectChanges();\n        }\n      },\n      error: error => {\n        clearTimeout(timeout);\n        console.error('Profile loading error:', error);\n        console.error('Error status:', error.status);\n        console.error('Error message:', error.message);\n        console.error('Error details:', error.error);\n        if (error.status === 0) {\n          this.error = 'Cannot connect to backend API. Make sure it\\'s running on http://localhost:8000';\n        } else if (error.status === 404) {\n          this.error = 'API endpoint not found. Check backend is running.';\n        } else if (error.status === 500) {\n          this.error = 'Server error: ' + (error.error?.detail || error.message);\n        } else {\n          this.error = error.error?.detail || error.message || 'Failed to load profile';\n        }\n        this.isLoadingProfile = false;\n        this.cdr.detectChanges();\n      },\n      complete: () => {\n        clearTimeout(timeout);\n        console.log('Profile loading observable completed');\n        if (this.isLoadingProfile && !this.profile) {\n          console.warn('Observable completed but no profile loaded!');\n          this.isLoadingProfile = false;\n          this.cdr.detectChanges();\n        }\n      }\n    });\n  }\n  onStartStory() {\n    // Navigate to profile analysis first, then story\n    this.isLoading = true;\n    this.error = null;\n    console.log('Starting learning journey for:', this.childId);\n    this.userProfileService.startLearningJourney(this.childId).subscribe({\n      next: response => {\n        console.log('Learning journey response:', response);\n        if (response.success && !response.completed) {\n          // Store profile and story in service\n          if (response.profile) {\n            this.userProfileService.currentProfile = response.profile;\n            console.log('Profile stored:', response.profile);\n          }\n          if (response.story) {\n            this.userProfileService.currentStory = response.story;\n            console.log('Story stored:', response.story);\n            console.log('Story title:', response.story.title);\n            console.log('Story panels:', response.story.panels?.length);\n          } else {\n            console.error('No story in response!');\n            this.error = 'Story not found in response';\n            this.isLoading = false;\n            return;\n          }\n          // Navigate to story screen\n          const navigateFn = this.userProfileService.navigateToStory;\n          if (navigateFn) {\n            console.log('Navigating to story screen...');\n            setTimeout(() => {\n              navigateFn();\n            }, 100); // Small delay to ensure data is stored\n          } else {\n            console.error('Navigation function not found!');\n            this.error = 'Navigation not available. Please refresh the page.';\n          }\n        } else if (response.completed) {\n          this.error = response.message || 'All topics completed!';\n        } else {\n          this.error = 'Invalid response from server';\n        }\n        this.isLoading = false;\n      },\n      error: error => {\n        console.error('Start journey error:', error);\n        this.error = error.error?.detail || error.message || 'Failed to start learning journey. Make sure the backend API is running on http://localhost:8000';\n        this.isLoading = false;\n      }\n    });\n  }\n  onViewRewards() {\n    // Navigate to rewards screen\n    if (this.userProfileService) {\n      this.userProfileService.navigateToRewards?.();\n    }\n  }\n  static ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.UserProfileService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 45,\n    vars: 10,\n    consts: [[1, \"home-container\"], [1, \"greeting-section\"], [1, \"greeting-content\"], [1, \"panda-character\"], [1, \"panda-face\"], [1, \"panda-ear\", \"left\"], [1, \"panda-ear\", \"right\"], [1, \"panda-eye\", \"left\"], [1, \"panda-eye\", \"right\"], [1, \"panda-nose\"], [1, \"panda-mouth\"], [1, \"speech-bubble\"], [4, \"ngIf\"], [\"class\", \"profile-section\", 4, \"ngIf\"], [\"class\", \"loading-profile\", 4, \"ngIf\"], [\"class\", \"error-message\", 4, \"ngIf\"], [1, \"bottom-section\"], [1, \"gamification-bar\"], [1, \"gamification-item\"], [1, \"gamification-label\"], [1, \"gamification-value\"], [1, \"gamification-separator\"], [1, \"gamification-icon\"], [1, \"actions-section\"], [1, \"action-btn\", \"read-story\", 3, \"disabled\", \"click\"], [1, \"btn-icon\"], [1, \"btn-text\"], [1, \"action-btn\", \"my-rewards\", 3, \"click\"], [1, \"profile-section\"], [\"class\", \"profile-card\", 4, \"ngIf\"], [1, \"profile-card\"], [1, \"profile-header\"], [1, \"profile-name-age\"], [1, \"profile-country\"], [\"class\", \"profile-details\", 4, \"ngIf\"], [1, \"profile-details\"], [\"class\", \"detail-row\", 4, \"ngIf\"], [1, \"detail-row\"], [1, \"detail-icon\"], [1, \"detail-label\"], [1, \"detail-value\"], [1, \"loading-profile\"], [1, \"spinner-small\"], [1, \"error-message\"], [1, \"btn-retry-small\", 3, \"click\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n        i0.ɵɵelement(5, \"div\", 5)(6, \"div\", 6)(7, \"div\", 7)(8, \"div\", 8)(9, \"div\", 9)(10, \"div\", 10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 11);\n        i0.ɵɵtemplate(12, HomeComponent_p_12_Template, 2, 1, \"p\", 12);\n        i0.ɵɵtemplate(13, HomeComponent_p_13_Template, 2, 0, \"p\", 12);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(14, HomeComponent_div_14_Template, 2, 1, \"div\", 13);\n        i0.ɵɵtemplate(15, HomeComponent_div_15_Template, 4, 0, \"div\", 14);\n        i0.ɵɵtemplate(16, HomeComponent_div_16_Template, 5, 1, \"div\", 15);\n        i0.ɵɵelementStart(17, \"div\", 16)(18, \"div\", 17)(19, \"div\", 18)(20, \"span\", 19);\n        i0.ɵɵtext(21, \"XP\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"span\", 20);\n        i0.ɵɵtext(23);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(24, \"div\", 21);\n        i0.ɵɵelementStart(25, \"div\", 18)(26, \"span\", 22);\n        i0.ɵɵtext(27, \"\\uD83C\\uDFC6\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"span\", 20);\n        i0.ɵɵtext(29);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(30, \"div\", 21);\n        i0.ɵɵelementStart(31, \"div\", 18)(32, \"span\", 22);\n        i0.ɵɵtext(33, \"\\uD83C\\uDFC5\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"span\", 20);\n        i0.ɵɵtext(35);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(36, \"div\", 23)(37, \"button\", 24);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_37_listener() {\n          return ctx.onStartStory();\n        });\n        i0.ɵɵelementStart(38, \"span\", 25);\n        i0.ɵɵtext(39, \"\\uD83D\\uDCD6\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"span\", 26);\n        i0.ɵɵtext(41);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(42, \"button\", 27);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_42_listener() {\n          return ctx.onViewRewards();\n        });\n        i0.ɵɵelementStart(43, \"span\", 26);\n        i0.ɵɵtext(44, \"My Rewards\");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngIf\", ctx.profile && ctx.profile.name);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.profile || !ctx.profile.name);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoadingProfile);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoadingProfile);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.error && !ctx.isLoadingProfile);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate((ctx.rewards == null ? null : ctx.rewards.points) || 0);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate((ctx.rewards == null ? null : ctx.rewards.level) || 1);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate((ctx.rewards == null ? null : ctx.rewards.badges == null ? null : ctx.rewards.badges.length) || 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.isLoading ? \"Loading...\" : \"Read Story\");\n      }\n    },\n    dependencies: [i2.NgIf],\n    styles: [\".home-container[_ngcontent-%COMP%] {\\n  height: 100vh;\\n  max-height: 100vh;\\n  display: flex;\\n  flex-direction: column;\\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n  background: #f5f5dc; \\n  overflow: hidden;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  width: 100%;\\n}\\n\\n\\n.greeting-section[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);\\n  background-image: \\n    radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.3) 1px, transparent 1px),\\n    radial-gradient(circle at 80% 50%, rgba(255, 255, 255, 0.3) 1px, transparent 1px);\\n  background-size: 30px 30px;\\n  padding: 10px 15px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  flex-shrink: 0;\\n  height: auto;\\n  min-height: -moz-fit-content;\\n  min-height: fit-content;\\n}\\n\\n.greeting-content[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 12px;\\n  max-width: 800px;\\n  width: 100%;\\n}\\n\\n.panda-character[_ngcontent-%COMP%] {\\n  flex-shrink: 0;\\n}\\n\\n.panda-face[_ngcontent-%COMP%] {\\n  width: 80px;\\n  height: 80px;\\n  position: relative;\\n  background: white;\\n  border-radius: 50%;\\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\\n}\\n\\n.panda-ear[_ngcontent-%COMP%] {\\n  position: absolute;\\n  width: 25px;\\n  height: 25px;\\n  background: black;\\n  border-radius: 50%;\\n  top: -10px;\\n}\\n\\n.panda-ear.left[_ngcontent-%COMP%] {\\n  left: 10px;\\n}\\n\\n.panda-ear.right[_ngcontent-%COMP%] {\\n  right: 10px;\\n}\\n\\n.panda-eye[_ngcontent-%COMP%] {\\n  position: absolute;\\n  width: 12px;\\n  height: 16px;\\n  background: black;\\n  border-radius: 50%;\\n  top: 25px;\\n  animation: _ngcontent-%COMP%_blink 3s infinite;\\n}\\n\\n.panda-eye.left[_ngcontent-%COMP%] {\\n  left: 20px;\\n}\\n\\n.panda-eye.right[_ngcontent-%COMP%] {\\n  right: 20px;\\n}\\n\\n@keyframes _ngcontent-%COMP%_blink {\\n  0%, 90%, 100% { height: 25px; }\\n  95% { height: 3px; }\\n}\\n\\n.panda-nose[_ngcontent-%COMP%] {\\n  position: absolute;\\n  width: 10px;\\n  height: 8px;\\n  background: black;\\n  border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;\\n  top: 42px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n}\\n\\n.panda-mouth[_ngcontent-%COMP%] {\\n  position: absolute;\\n  width: 28px;\\n  height: 14px;\\n  border: 2px solid black;\\n  border-top: none;\\n  border-radius: 0 0 28px 28px;\\n  top: 52px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n}\\n\\n.speech-bubble[_ngcontent-%COMP%] {\\n  background: white;\\n  border: 2px solid black;\\n  border-radius: 15px;\\n  padding: 10px 15px;\\n  position: relative;\\n  flex: 1;\\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\\n}\\n\\n.speech-bubble[_ngcontent-%COMP%]::before {\\n  content: '';\\n  position: absolute;\\n  left: -15px;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  width: 0;\\n  height: 0;\\n  border-top: 10px solid transparent;\\n  border-bottom: 10px solid transparent;\\n  border-right: 15px solid white;\\n}\\n\\n.speech-bubble[_ngcontent-%COMP%]::after {\\n  content: '';\\n  position: absolute;\\n  left: -18px;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  width: 0;\\n  height: 0;\\n  border-top: 11px solid transparent;\\n  border-bottom: 11px solid transparent;\\n  border-right: 18px solid black;\\n  z-index: -1;\\n}\\n\\n.speech-bubble[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 14px;\\n  font-weight: bold;\\n  color: #333;\\n}\\n\\n\\n.profile-section[_ngcontent-%COMP%] {\\n  padding: 5px 15px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: flex-start;\\n  background: #f5f5dc;\\n  flex: 1 1 auto;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  min-height: 0;\\n  max-height: 100%;\\n}\\n\\n.profile-card[_ngcontent-%COMP%] {\\n  background: white;\\n  border-radius: 12px;\\n  padding: 12px;\\n  max-width: 800px;\\n  width: 100%;\\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\\n  box-sizing: border-box;\\n  margin: auto;\\n}\\n\\n.profile-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 8px;\\n  padding-bottom: 8px;\\n  border-bottom: 2px solid #e9ecef;\\n}\\n\\n.profile-name-age[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  color: #333;\\n}\\n\\n.profile-country[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  color: #333;\\n}\\n\\n.profile-details[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 8px;\\n}\\n\\n.detail-row[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n  font-size: 14px;\\n}\\n\\n.detail-icon[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n}\\n\\n.detail-label[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  color: #333;\\n}\\n\\n.detail-value[_ngcontent-%COMP%] {\\n  color: #666;\\n}\\n\\n\\n.loading-profile[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 15px;\\n  background: rgba(255, 255, 255, 0.8);\\n  margin: 10px;\\n  border-radius: 12px;\\n  color: #333;\\n}\\n\\n.spinner-small[_ngcontent-%COMP%] {\\n  border: 3px solid rgba(0, 0, 0, 0.1);\\n  border-top: 3px solid #667eea;\\n  border-radius: 50%;\\n  width: 40px;\\n  height: 40px;\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n  margin: 0 auto 15px;\\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n  0% { transform: rotate(0deg); }\\n  100% { transform: rotate(360deg); }\\n}\\n\\n.error-message[_ngcontent-%COMP%] {\\n  background: rgba(255, 255, 255, 0.95);\\n  border-radius: 12px;\\n  padding: 12px;\\n  margin: 10px;\\n  color: #c33;\\n  text-align: center;\\n  font-size: 14px;\\n}\\n\\n.error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0 0 15px 0;\\n  font-weight: 500;\\n}\\n\\n.btn-retry-small[_ngcontent-%COMP%] {\\n  padding: 8px 20px;\\n  background: #c33;\\n  color: white;\\n  border: none;\\n  border-radius: 6px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: all 0.3s;\\n}\\n\\n.btn-retry-small[_ngcontent-%COMP%]:hover {\\n  background: #a22;\\n  transform: translateY(-2px);\\n}\\n\\n\\n.bottom-section[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);\\n  background-image: \\n    radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 1px, transparent 1px),\\n    radial-gradient(circle at 80% 50%, rgba(255, 255, 255, 0.1) 1px, transparent 1px);\\n  background-size: 30px 30px;\\n  padding: 10px 15px;\\n  margin-top: auto;\\n  width: 100%;\\n  flex-shrink: 0;\\n  height: auto;\\n  min-height: -moz-fit-content;\\n  min-height: fit-content;\\n}\\n\\n\\n.gamification-bar[_ngcontent-%COMP%] {\\n  background: rgba(0, 0, 0, 0.3);\\n  border-radius: 10px;\\n  padding: 10px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 12px;\\n  margin-bottom: 10px;\\n  max-width: 600px;\\n  margin-left: auto;\\n  margin-right: auto;\\n  width: 100%;\\n  box-sizing: border-box;\\n}\\n\\n.gamification-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n}\\n\\n.gamification-label[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  font-weight: bold;\\n  color: white;\\n}\\n\\n.gamification-value[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  font-weight: bold;\\n  color: white;\\n}\\n\\n.gamification-icon[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n}\\n\\n.gamification-separator[_ngcontent-%COMP%] {\\n  width: 2px;\\n  height: 30px;\\n  background: white;\\n  opacity: 0.5;\\n}\\n\\n\\n.actions-section[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 12px;\\n  justify-content: center;\\n  max-width: 600px;\\n  margin: 0 auto;\\n  width: 100%;\\n  box-sizing: border-box;\\n}\\n\\n.action-btn[_ngcontent-%COMP%] {\\n  flex: 1;\\n  padding: 12px;\\n  border: none;\\n  border-radius: 10px;\\n  font-size: 15px;\\n  font-weight: bold;\\n  cursor: pointer;\\n  transition: all 0.3s;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 6px;\\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\\n  min-height: 50px;\\n}\\n\\n.action-btn.read-story[_ngcontent-%COMP%] {\\n  background: #ff6b35; \\n  color: white;\\n}\\n\\n.action-btn.read-story[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-3px);\\n  box-shadow: 0 6px 20px rgba(255, 107, 53, 0.4);\\n}\\n\\n.action-btn.read-story[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.6;\\n  cursor: not-allowed;\\n  transform: none;\\n}\\n\\n.action-btn.my-rewards[_ngcontent-%COMP%] {\\n  background: #9b59b6; \\n  color: white;\\n}\\n\\n.action-btn.my-rewards[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-3px);\\n  box-shadow: 0 6px 20px rgba(155, 89, 182, 0.4);\\n}\\n\\n.btn-icon[_ngcontent-%COMP%] {\\n  font-size: 22px;\\n}\\n\\n.btn-text[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  font-weight: bold;\\n  white-space: nowrap;\\n}\\n\\n\\n@media (max-width: 768px) {\\n  .greeting-content[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    text-align: center;\\n  }\\n\\n  .speech-bubble[_ngcontent-%COMP%]::before, .speech-bubble[_ngcontent-%COMP%]::after {\\n    display: none;\\n  }\\n\\n  .panda-face[_ngcontent-%COMP%] {\\n    width: 100px;\\n    height: 100px;\\n  }\\n\\n  .profile-header[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    align-items: flex-start;\\n    gap: 10px;\\n  }\\n\\n  .actions-section[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n  }\\n\\n  .action-btn[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n\\n  .gamification-bar[_ngcontent-%COMP%] {\\n    flex-wrap: wrap;\\n    gap: 15px;\\n  }\\n\\n  .gamification-separator[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9ob21lLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2IsaUJBQWlCO0VBQ2pCLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsNERBQTREO0VBQzVELG1CQUFtQixFQUFFLDJCQUEyQjtFQUNoRCxnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLE1BQU07RUFDTixPQUFPO0VBQ1AsUUFBUTtFQUNSLFNBQVM7RUFDVCxXQUFXO0FBQ2I7O0FBRUEsNkNBQTZDO0FBQzdDO0VBQ0UsNkRBQTZEO0VBQzdEOztxRkFFbUY7RUFDbkYsMEJBQTBCO0VBQzFCLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixjQUFjO0VBQ2QsWUFBWTtFQUNaLDRCQUF1QjtFQUF2Qix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFNBQVM7RUFDVCxnQkFBZ0I7RUFDaEIsV0FBVztBQUNiOztBQUVBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIseUNBQXlDO0FBQzNDOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxZQUFZO0VBQ1osaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixVQUFVO0FBQ1o7O0FBRUE7RUFDRSxVQUFVO0FBQ1o7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsV0FBVztFQUNYLFlBQVk7RUFDWixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLFNBQVM7RUFDVCw0QkFBNEI7QUFDOUI7O0FBRUE7RUFDRSxVQUFVO0FBQ1o7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxnQkFBZ0IsWUFBWSxFQUFFO0VBQzlCLE1BQU0sV0FBVyxF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RUFDaEMsWUFBWTtBQUNkOztBQUVBO0VBQ0UsMkJBQTJCO0VBQzNCLDhDQUE4QztBQUNoRDs7QUFFQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLG1CQUFtQjtBQUNyQjs7QUFFQSxzQkFBc0I7QUFDdEI7RUFDRTtJQUNFLHNCQUFzQjtJQUN0QixrQkFBa0I7RUFDcEI7O0VBRUE7O0lBRUUsYUFBYTtFQUNmOztFQUVBO0lBQ0UsWUFBWTtJQUNaLGFBQWE7RUFDZjs7RUFFQTtJQUNFLHNCQUFzQjtJQUN0Qix1QkFBdUI7SUFDdkIsU0FBUztFQUNYOztFQUVBO0lBQ0Usc0JBQXNCO0VBQ3hCOztFQUVBO0lBQ0UsV0FBVztFQUNiOztFQUVBO0lBQ0UsZUFBZTtJQUNmLFNBQVM7RUFDWDs7RUFFQTtJQUNFLGFBQWE7RUFDZjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmhvbWUtY29udGFpbmVyIHtcbiAgaGVpZ2h0OiAxMDB2aDtcbiAgbWF4LWhlaWdodDogMTAwdmg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjtcbiAgYmFja2dyb3VuZDogI2Y1ZjVkYzsgLyogTGlnaHQgYmVpZ2UgYmFja2dyb3VuZCAqL1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi8qIFRvcCBHcmVldGluZyBTZWN0aW9uIC0gWWVsbG93IEJhY2tncm91bmQgKi9cbi5ncmVldGluZy1zZWN0aW9uIHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2ZmZDcwMCAwJSwgI2ZmZWQ0ZSAxMDAlKTtcbiAgYmFja2dyb3VuZC1pbWFnZTogXG4gICAgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAyMCUgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMykgMXB4LCB0cmFuc3BhcmVudCAxcHgpLFxuICAgIHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgODAlIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpIDFweCwgdHJhbnNwYXJlbnQgMXB4KTtcbiAgYmFja2dyb3VuZC1zaXplOiAzMHB4IDMwcHg7XG4gIHBhZGRpbmc6IDEwcHggMTVweDtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGZsZXgtc2hyaW5rOiAwO1xuICBoZWlnaHQ6IGF1dG87XG4gIG1pbi1oZWlnaHQ6IGZpdC1jb250ZW50O1xufVxuXG4uZ3JlZXRpbmctY29udGVudCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogMTJweDtcbiAgbWF4LXdpZHRoOiA4MDBweDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5wYW5kYS1jaGFyYWN0ZXIge1xuICBmbGV4LXNocmluazogMDtcbn1cblxuLnBhbmRhLWZhY2Uge1xuICB3aWR0aDogODBweDtcbiAgaGVpZ2h0OiA4MHB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjIpO1xufVxuXG4ucGFuZGEtZWFyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMjVweDtcbiAgaGVpZ2h0OiAyNXB4O1xuICBiYWNrZ3JvdW5kOiBibGFjaztcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICB0b3A6IC0xMHB4O1xufVxuXG4ucGFuZGEtZWFyLmxlZnQge1xuICBsZWZ0OiAxMHB4O1xufVxuXG4ucGFuZGEtZWFyLnJpZ2h0IHtcbiAgcmlnaHQ6IDEwcHg7XG59XG5cbi5wYW5kYS1leWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMnB4O1xuICBoZWlnaHQ6IDE2cHg7XG4gIGJhY2tncm91bmQ6IGJsYWNrO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHRvcDogMjVweDtcbiAgYW5pbWF0aW9uOiBibGluayAzcyBpbmZpbml0ZTtcbn1cblxuLnBhbmRhLWV5ZS5sZWZ0IHtcbiAgbGVmdDogMjBweDtcbn1cblxuLnBhbmRhLWV5ZS5yaWdodCB7XG4gIHJpZ2h0OiAyMHB4O1xufVxuXG5Aa2V5ZnJhbWVzIGJsaW5rIHtcbiAgMCUsIDkwJSwgMTAwJSB7IGhlaWdodDogMjVweDsgfVxuICA5NSUgeyBoZWlnaHQ6IDNweDsgfVxufVxuXG4ucGFuZGEtbm9zZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2lkdGg6IDEwcHg7XG4gIGhlaWdodDogOHB4O1xuICBiYWNrZ3JvdW5kOiBibGFjaztcbiAgYm9yZGVyLXJhZGl1czogNTAlIDUwJSA1MCUgNTAlIC8gNjAlIDYwJSA0MCUgNDAlO1xuICB0b3A6IDQycHg7XG4gIGxlZnQ6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xufVxuXG4ucGFuZGEtbW91dGgge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAyOHB4O1xuICBoZWlnaHQ6IDE0cHg7XG4gIGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrO1xuICBib3JkZXItdG9wOiBub25lO1xuICBib3JkZXItcmFkaXVzOiAwIDAgMjhweCAyOHB4O1xuICB0b3A6IDUycHg7XG4gIGxlZnQ6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xufVxuXG4uc3BlZWNoLWJ1YmJsZSB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3JkZXI6IDJweCBzb2xpZCBibGFjaztcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgcGFkZGluZzogMTBweCAxNXB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGZsZXg6IDE7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xufVxuXG4uc3BlZWNoLWJ1YmJsZTo6YmVmb3JlIHtcbiAgY29udGVudDogJyc7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogLTE1cHg7XG4gIHRvcDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG4gIHdpZHRoOiAwO1xuICBoZWlnaHQ6IDA7XG4gIGJvcmRlci10b3A6IDEwcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci1ib3R0b206IDEwcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci1yaWdodDogMTVweCBzb2xpZCB3aGl0ZTtcbn1cblxuLnNwZWVjaC1idWJibGU6OmFmdGVyIHtcbiAgY29udGVudDogJyc7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogLTE4cHg7XG4gIHRvcDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG4gIHdpZHRoOiAwO1xuICBoZWlnaHQ6IDA7XG4gIGJvcmRlci10b3A6IDExcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci1ib3R0b206IDExcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci1yaWdodDogMThweCBzb2xpZCBibGFjaztcbiAgei1pbmRleDogLTE7XG59XG5cbi5zcGVlY2gtYnViYmxlIHAge1xuICBtYXJnaW46IDA7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMzMzO1xufVxuXG4vKiBNaWRkbGUgUHJvZmlsZSBDYXJkIFNlY3Rpb24gKi9cbi5wcm9maWxlLXNlY3Rpb24ge1xuICBwYWRkaW5nOiA1cHggMTVweDtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICBiYWNrZ3JvdW5kOiAjZjVmNWRjO1xuICBmbGV4OiAxIDEgYXV0bztcbiAgb3ZlcmZsb3cteTogYXV0bztcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICBtaW4taGVpZ2h0OiAwO1xuICBtYXgtaGVpZ2h0OiAxMDAlO1xufVxuXG4ucHJvZmlsZS1jYXJkIHtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gIHBhZGRpbmc6IDEycHg7XG4gIG1heC13aWR0aDogODAwcHg7XG4gIHdpZHRoOiAxMDAlO1xuICBib3gtc2hhZG93OiAwIDRweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgbWFyZ2luOiBhdXRvO1xufVxuXG4ucHJvZmlsZS1oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDhweDtcbiAgcGFkZGluZy1ib3R0b206IDhweDtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNlOWVjZWY7XG59XG5cbi5wcm9maWxlLW5hbWUtYWdlIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBjb2xvcjogIzMzMztcbn1cblxuLnByb2ZpbGUtY291bnRyeSB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgY29sb3I6ICMzMzM7XG59XG5cbi5wcm9maWxlLWRldGFpbHMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDhweDtcbn1cblxuLmRldGFpbC1yb3cge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDhweDtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4uZGV0YWlsLWljb24ge1xuICBmb250LXNpemU6IDIwcHg7XG59XG5cbi5kZXRhaWwtbGFiZWwge1xuICBmb250LXdlaWdodDogNjAwO1xuICBjb2xvcjogIzMzMztcbn1cblxuLmRldGFpbC12YWx1ZSB7XG4gIGNvbG9yOiAjNjY2O1xufVxuXG4vKiBMb2FkaW5nIGFuZCBFcnJvciBTdGF0ZXMgKi9cbi5sb2FkaW5nLXByb2ZpbGUge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTtcbiAgbWFyZ2luOiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICBjb2xvcjogIzMzMztcbn1cblxuLnNwaW5uZXItc21hbGwge1xuICBib3JkZXI6IDNweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIGJvcmRlci10b3A6IDNweCBzb2xpZCAjNjY3ZWVhO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XG4gIG1hcmdpbjogMCBhdXRvIDE1cHg7XG59XG5cbkBrZXlmcmFtZXMgc3BpbiB7XG4gIDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cbiAgMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cbn1cblxuLmVycm9yLW1lc3NhZ2Uge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOTUpO1xuICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICBwYWRkaW5nOiAxMnB4O1xuICBtYXJnaW46IDEwcHg7XG4gIGNvbG9yOiAjYzMzO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLmVycm9yLW1lc3NhZ2UgcCB7XG4gIG1hcmdpbjogMCAwIDE1cHggMDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuLmJ0bi1yZXRyeS1zbWFsbCB7XG4gIHBhZGRpbmc6IDhweCAyMHB4O1xuICBiYWNrZ3JvdW5kOiAjYzMzO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzO1xufVxuXG4uYnRuLXJldHJ5LXNtYWxsOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogI2EyMjtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xufVxuXG4vKiBCb3R0b20gU2VjdGlvbiAtIEJsdWUgQmFja2dyb3VuZCAqL1xuLmJvdHRvbS1zZWN0aW9uIHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzRhOTBlMiAwJSwgIzM1N2FiZCAxMDAlKTtcbiAgYmFja2dyb3VuZC1pbWFnZTogXG4gICAgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAyMCUgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSkgMXB4LCB0cmFuc3BhcmVudCAxcHgpLFxuICAgIHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgODAlIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpIDFweCwgdHJhbnNwYXJlbnQgMXB4KTtcbiAgYmFja2dyb3VuZC1zaXplOiAzMHB4IDMwcHg7XG4gIHBhZGRpbmc6IDEwcHggMTVweDtcbiAgbWFyZ2luLXRvcDogYXV0bztcbiAgd2lkdGg6IDEwMCU7XG4gIGZsZXgtc2hyaW5rOiAwO1xuICBoZWlnaHQ6IGF1dG87XG4gIG1pbi1oZWlnaHQ6IGZpdC1jb250ZW50O1xufVxuXG4vKiBHYW1pZmljYXRpb24gQmFyICovXG4uZ2FtaWZpY2F0aW9uLWJhciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgcGFkZGluZzogMTBweDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGdhcDogMTJweDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgbWF4LXdpZHRoOiA2MDBweDtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgd2lkdGg6IDEwMCU7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbi5nYW1pZmljYXRpb24taXRlbSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogOHB4O1xufVxuXG4uZ2FtaWZpY2F0aW9uLWxhYmVsIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uZ2FtaWZpY2F0aW9uLXZhbHVlIHtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uZ2FtaWZpY2F0aW9uLWljb24ge1xuICBmb250LXNpemU6IDIwcHg7XG59XG5cbi5nYW1pZmljYXRpb24tc2VwYXJhdG9yIHtcbiAgd2lkdGg6IDJweDtcbiAgaGVpZ2h0OiAzMHB4O1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgb3BhY2l0eTogMC41O1xufVxuXG4vKiBBY3Rpb24gQnV0dG9ucyAqL1xuLmFjdGlvbnMtc2VjdGlvbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogMTJweDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIG1heC13aWR0aDogNjAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICB3aWR0aDogMTAwJTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuLmFjdGlvbi1idG4ge1xuICBmbGV4OiAxO1xuICBwYWRkaW5nOiAxMnB4O1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBnYXA6IDZweDtcbiAgYm94LXNoYWRvdzogMCA0cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gIG1pbi1oZWlnaHQ6IDUwcHg7XG59XG5cbi5hY3Rpb24tYnRuLnJlYWQtc3Rvcnkge1xuICBiYWNrZ3JvdW5kOiAjZmY2YjM1OyAvKiBPcmFuZ2UgKi9cbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uYWN0aW9uLWJ0bi5yZWFkLXN0b3J5OmhvdmVyIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0zcHgpO1xuICBib3gtc2hhZG93OiAwIDZweCAyMHB4IHJnYmEoMjU1LCAxMDcsIDUzLCAwLjQpO1xufVxuXG4uYWN0aW9uLWJ0bi5yZWFkLXN0b3J5OmRpc2FibGVkIHtcbiAgb3BhY2l0eTogMC42O1xuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICB0cmFuc2Zvcm06IG5vbmU7XG59XG5cbi5hY3Rpb24tYnRuLm15LXJld2FyZHMge1xuICBiYWNrZ3JvdW5kOiAjOWI1OWI2OyAvKiBQdXJwbGUgKi9cbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uYWN0aW9uLWJ0bi5teS1yZXdhcmRzOmhvdmVyIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0zcHgpO1xuICBib3gtc2hhZG93OiAwIDZweCAyMHB4IHJnYmEoMTU1LCA4OSwgMTgyLCAwLjQpO1xufVxuXG4uYnRuLWljb24ge1xuICBmb250LXNpemU6IDIycHg7XG59XG5cbi5idG4tdGV4dCB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG59XG5cbi8qIFJlc3BvbnNpdmUgRGVzaWduICovXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLmdyZWV0aW5nLWNvbnRlbnQge1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG5cbiAgLnNwZWVjaC1idWJibGU6OmJlZm9yZSxcbiAgLnNwZWVjaC1idWJibGU6OmFmdGVyIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG5cbiAgLnBhbmRhLWZhY2Uge1xuICAgIHdpZHRoOiAxMDBweDtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICB9XG5cbiAgLnByb2ZpbGUtaGVhZGVyIHtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgIGdhcDogMTBweDtcbiAgfVxuXG4gIC5hY3Rpb25zLXNlY3Rpb24ge1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIH1cblxuICAuYWN0aW9uLWJ0biB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAuZ2FtaWZpY2F0aW9uLWJhciB7XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIGdhcDogMTVweDtcbiAgfVxuXG4gIC5nYW1pZmljYXRpb24tc2VwYXJhdG9yIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["i0","HomeComponent","userProfileService","cdr","childId","isLoading","isLoadingProfile","error","rewards","profile","reasoning","constructor","ngOnInit","loadRewards","loadProfile","getRewards","subscribe","next","response","success","points","level","badges","detectChanges","console","log","fetch","then","catch","timeout","setTimeout","analyzeProfile","clearTimeout","Object","keys","currentProfile","name","e","status","message","detail","complete","warn","onStartStory","startLearningJourney","completed","story","currentStory","title","panels","length","navigateFn","navigateToStory","onViewRewards","navigateToRewards","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/koteswarrao@backbase.com/Documents/AI_NEW/financial_education_app/frontend/src/app/components/home.component.html","/Users/koteswarrao@backbase.com/Documents/AI_NEW/financial_education_app/frontend/src/app/components/home.component.ts"],"sourcesContent":["<div class=\"home-container\">\n  <!-- Top Greeting Section with Yellow Background -->\n  <div class=\"greeting-section\">\n    <div class=\"greeting-content\">\n      <div class=\"panda-character\">\n        <div class=\"panda-face\">\n          <div class=\"panda-ear left\"></div>\n          <div class=\"panda-ear right\"></div>\n          <div class=\"panda-eye left\"></div>\n          <div class=\"panda-eye right\"></div>\n          <div class=\"panda-nose\"></div>\n          <div class=\"panda-mouth\"></div>\n        </div>\n      </div>\n      <div class=\"speech-bubble\">\n        <p *ngIf=\"profile && profile.name\">Hi {{ profile.name }}! Let's learn something fun today!</p>\n        <p *ngIf=\"!profile || !profile.name\">Hi there! Let's learn something fun today!</p>\n      </div>\n    </div>\n  </div>\n\n  <!-- Middle Profile Card Section -->\n  <div class=\"profile-section\" *ngIf=\"!isLoadingProfile\">\n    <div class=\"profile-card\" *ngIf=\"profile && profile.name\">\n      <div class=\"profile-header\">\n        <div class=\"profile-name-age\">\n          <strong>{{ profile.name }}, Age {{ profile.age }}</strong>\n        </div>\n        <div class=\"profile-country\">\n          <strong>{{ profile.country }}</strong>\n        </div>\n      </div>\n      \n      <div class=\"profile-details\" *ngIf=\"profile.personalization\">\n        <div class=\"detail-row\" *ngIf=\"profile.personalization.hobbies && profile.personalization.hobbies.length > 0\">\n          <span class=\"detail-icon\">❤️</span>\n          <span class=\"detail-label\">Hobbies:</span>\n          <span class=\"detail-value\">{{ profile.personalization.hobbies.join(', ') }}</span>\n        </div>\n        \n        <div class=\"detail-row\" *ngIf=\"profile.personalization.favoriteSubjects && profile.personalization.favoriteSubjects.length > 0\">\n          <span class=\"detail-icon\">📖</span>\n          <span class=\"detail-label\">Favorite Subjects:</span>\n          <span class=\"detail-value\">{{ profile.personalization.favoriteSubjects.join(', ') }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Loading Profile -->\n  <div class=\"loading-profile\" *ngIf=\"isLoadingProfile\">\n    <div class=\"spinner-small\"></div>\n    <p>Loading your profile...</p>\n  </div>\n  \n  <!-- Profile Error -->\n  <div class=\"error-message\" *ngIf=\"error && !isLoadingProfile\">\n    <p>❌ {{ error }}</p>\n    <button (click)=\"loadProfile()\" class=\"btn-retry-small\">Retry</button>\n  </div>\n\n  <!-- Bottom Gamification and Actions Section with Blue Background -->\n  <div class=\"bottom-section\">\n    <!-- Gamification Bar -->\n    <div class=\"gamification-bar\">\n      <div class=\"gamification-item\">\n        <span class=\"gamification-label\">XP</span>\n        <span class=\"gamification-value\">{{ rewards?.points || 0 }}</span>\n      </div>\n      <div class=\"gamification-separator\"></div>\n      <div class=\"gamification-item\">\n        <span class=\"gamification-icon\">🏆</span>\n        <span class=\"gamification-value\">{{ rewards?.level || 1 }}</span>\n      </div>\n      <div class=\"gamification-separator\"></div>\n      <div class=\"gamification-item\">\n        <span class=\"gamification-icon\">🏅</span>\n        <span class=\"gamification-value\">{{ rewards?.badges?.length || 0 }}</span>\n      </div>\n    </div>\n\n    <!-- Action Buttons -->\n    <div class=\"actions-section\">\n      <button class=\"action-btn read-story\" (click)=\"onStartStory()\" [disabled]=\"isLoading\">\n        <span class=\"btn-icon\">📖</span>\n        <span class=\"btn-text\">{{ isLoading ? 'Loading...' : 'Read Story' }}</span>\n      </button>\n      \n      <button class=\"action-btn my-rewards\" (click)=\"onViewRewards()\">\n        <span class=\"btn-text\">My Rewards</span>\n      </button>\n    </div>\n  </div>\n</div>\n\n","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { UserProfileService } from '../services/user-profile.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n  childId: string = 'kid_001';\n  isLoading: boolean = false;\n  isLoadingProfile: boolean = false;\n  error: string | null = null;\n  rewards: any = null;\n  profile: any = null;\n  reasoning: any = null;\n\n  constructor(\n    private userProfileService: UserProfileService,\n    private cdr: ChangeDetectorRef\n  ) {}\n\n  ngOnInit(): void {\n    this.loadRewards();\n    this.loadProfile();\n  }\n\n  loadRewards(): void {\n    this.userProfileService.getRewards(this.childId).subscribe({\n      next: (response) => {\n        if (response && response.success) {\n          this.rewards = response;\n        } else {\n          // Set default rewards if API fails\n          this.rewards = { points: 0, level: 1, badges: [] };\n        }\n        this.cdr.detectChanges();\n      },\n      error: (error) => {\n        console.error('Failed to load rewards:', error);\n        // Set default rewards on error\n        this.rewards = { points: 0, level: 1, badges: [] };\n        this.cdr.detectChanges();\n      }\n    });\n  }\n\n  loadProfile(): void {\n    this.isLoadingProfile = true;\n    this.error = null;\n    this.profile = null;\n    \n    console.log('Loading profile for:', this.childId);\n    console.log('API URL:', 'http://localhost:8000/api/profile/analyze');\n    \n    // First check if backend is reachable\n    fetch('http://localhost:8000/')\n      .then(() => {\n        console.log('Backend is reachable');\n      })\n      .catch(() => {\n        console.error('Backend is NOT reachable!');\n        this.error = 'Backend API is not running. Please start it with: cd backend && ./start_api.sh';\n        this.isLoadingProfile = false;\n        this.cdr.detectChanges();\n        return;\n      });\n    \n    // Add timeout to prevent infinite loading\n    const timeout = setTimeout(() => {\n      if (this.isLoadingProfile) {\n        console.error('Profile loading timeout!');\n        this.error = 'Profile loading timed out. Make sure backend is running on http://localhost:8000';\n        this.isLoadingProfile = false;\n        this.cdr.detectChanges();\n      }\n    }, 15000); // 15 second timeout\n    \n    this.userProfileService.analyzeProfile(this.childId).subscribe({\n      next: (response) => {\n        clearTimeout(timeout);\n        console.log('Profile response received:', response);\n        console.log('Response type:', typeof response);\n        console.log('Response keys:', Object.keys(response || {}));\n        \n        try {\n          if (response) {\n            if (response.success === true && response.profile) {\n              this.profile = response.profile;\n              this.reasoning = response.reasoning;\n              // Store in service for other components\n              (this.userProfileService as any).currentProfile = response.profile;\n              console.log('Profile loaded successfully:', this.profile);\n              console.log('Profile name:', this.profile?.name);\n              this.isLoadingProfile = false;\n              this.cdr.detectChanges();\n              return;\n            } else if (response.profile) {\n              // Sometimes API might return profile directly\n              this.profile = response.profile;\n              this.reasoning = response.reasoning;\n              (this.userProfileService as any).currentProfile = response.profile;\n              console.log('Profile loaded (direct):', this.profile);\n              this.isLoadingProfile = false;\n              this.cdr.detectChanges();\n              return;\n            }\n          }\n          \n          console.error('Invalid profile response structure:', response);\n          this.error = 'Failed to load profile: Invalid response structure';\n          this.isLoadingProfile = false;\n          this.cdr.detectChanges();\n        } catch (e) {\n          console.error('Error processing profile response:', e);\n          this.error = 'Error processing profile data';\n          this.isLoadingProfile = false;\n          this.cdr.detectChanges();\n        }\n      },\n      error: (error) => {\n        clearTimeout(timeout);\n        console.error('Profile loading error:', error);\n        console.error('Error status:', error.status);\n        console.error('Error message:', error.message);\n        console.error('Error details:', error.error);\n        \n        if (error.status === 0) {\n          this.error = 'Cannot connect to backend API. Make sure it\\'s running on http://localhost:8000';\n        } else if (error.status === 404) {\n          this.error = 'API endpoint not found. Check backend is running.';\n        } else if (error.status === 500) {\n          this.error = 'Server error: ' + (error.error?.detail || error.message);\n        } else {\n          this.error = error.error?.detail || error.message || 'Failed to load profile';\n        }\n        this.isLoadingProfile = false;\n        this.cdr.detectChanges();\n      },\n      complete: () => {\n        clearTimeout(timeout);\n        console.log('Profile loading observable completed');\n        if (this.isLoadingProfile && !this.profile) {\n          console.warn('Observable completed but no profile loaded!');\n          this.isLoadingProfile = false;\n          this.cdr.detectChanges();\n        }\n      }\n    });\n  }\n\n  onStartStory(): void {\n    // Navigate to profile analysis first, then story\n    this.isLoading = true;\n    this.error = null;\n    \n    console.log('Starting learning journey for:', this.childId);\n    \n    this.userProfileService.startLearningJourney(this.childId).subscribe({\n      next: (response) => {\n        console.log('Learning journey response:', response);\n        \n        if (response.success && !response.completed) {\n          // Store profile and story in service\n          if (response.profile) {\n            (this.userProfileService as any).currentProfile = response.profile;\n            console.log('Profile stored:', response.profile);\n          }\n          \n          if (response.story) {\n            (this.userProfileService as any).currentStory = response.story;\n            console.log('Story stored:', response.story);\n            console.log('Story title:', response.story.title);\n            console.log('Story panels:', response.story.panels?.length);\n          } else {\n            console.error('No story in response!');\n            this.error = 'Story not found in response';\n            this.isLoading = false;\n            return;\n          }\n          \n          // Navigate to story screen\n          const navigateFn = (this.userProfileService as any).navigateToStory;\n          if (navigateFn) {\n            console.log('Navigating to story screen...');\n            setTimeout(() => {\n              navigateFn();\n            }, 100); // Small delay to ensure data is stored\n          } else {\n            console.error('Navigation function not found!');\n            this.error = 'Navigation not available. Please refresh the page.';\n          }\n        } else if (response.completed) {\n          this.error = response.message || 'All topics completed!';\n        } else {\n          this.error = 'Invalid response from server';\n        }\n        \n        this.isLoading = false;\n      },\n      error: (error) => {\n        console.error('Start journey error:', error);\n        this.error = error.error?.detail || error.message || 'Failed to start learning journey. Make sure the backend API is running on http://localhost:8000';\n        this.isLoading = false;\n      }\n    });\n  }\n\n\n  onViewRewards(): void {\n    // Navigate to rewards screen\n    if (this.userProfileService) {\n      (this.userProfileService as any).navigateToRewards?.();\n    }\n  }\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}