{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class UserProfileService {\n  http;\n  apiUrl = 'http://localhost:8000/api'; // Backend API URL\n  constructor(http) {\n    this.http = http;\n  }\n  analyzeProfile(childId) {\n    return this.http.post(`${this.apiUrl}/profile/analyze`, {\n      child_id: childId\n    });\n  }\n  generateStory(profile) {\n    return this.http.post(`${this.apiUrl}/story/generate`, {\n      profile: profile\n    });\n  }\n  generateQuiz(story, profile) {\n    const body = {\n      story: story\n    };\n    if (profile) {\n      body.profile = profile;\n    }\n    return this.http.post(`${this.apiUrl}/quiz/generate`, body);\n  }\n  startLearningJourney(childId) {\n    return this.http.get(`${this.apiUrl}/start/${childId}`);\n  }\n  submitQuiz(childId, submission) {\n    return this.http.post(`${this.apiUrl}/submit_quiz/${childId}`, submission);\n  }\n  getRewards(childId) {\n    return this.http.get(`${this.apiUrl}/rewards/${childId}`);\n  }\n  static ɵfac = function UserProfileService_Factory(t) {\n    return new (t || UserProfileService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: UserProfileService,\n    factory: UserProfileService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"mappings":";;AA0EA,OAAM,MAAOA,kBAAkB;EAGTC;EAFZC,MAAM,GAAG,2BAA2B,CAAC,CAAC;EAE9CC,YAAoBF,IAAgB;IAAhB,SAAI,GAAJA,IAAI;EAAe;EAEvCG,cAAc,CAACC,OAAe;IAC5B,OAAO,IAAI,CAACJ,IAAI,CAACK,IAAI,CAA0B,GAAG,IAAI,CAACJ,MAAM,kBAAkB,EAAE;MAC/EK,QAAQ,EAAEF;KACX,CAAC;EACJ;EAEAG,aAAa,CAACC,OAAgB;IAC5B,OAAO,IAAI,CAACR,IAAI,CAACK,IAAI,CAAgB,GAAG,IAAI,CAACJ,MAAM,iBAAiB,EAAE;MACpEO,OAAO,EAAEA;KACV,CAAC;EACJ;EAEAC,YAAY,CAACC,KAAY,EAAEF,OAAiB;IAC1C,MAAMG,IAAI,GAAQ;MAAED,KAAK,EAAEA;IAAK,CAAE;IAClC,IAAIF,OAAO,EAAE;MACXG,IAAI,CAACH,OAAO,GAAGA,OAAO;;IAExB,OAAO,IAAI,CAACR,IAAI,CAACK,IAAI,CAAe,GAAG,IAAI,CAACJ,MAAM,gBAAgB,EAAEU,IAAI,CAAC;EAC3E;EAEAC,oBAAoB,CAACR,OAAe;IAClC,OAAO,IAAI,CAACJ,IAAI,CAACa,GAAG,CAAM,GAAG,IAAI,CAACZ,MAAM,UAAUG,OAAO,EAAE,CAAC;EAC9D;EAEAU,UAAU,CAACV,OAAe,EAAEW,UAAe;IACzC,OAAO,IAAI,CAACf,IAAI,CAACK,IAAI,CAAM,GAAG,IAAI,CAACJ,MAAM,gBAAgBG,OAAO,EAAE,EAAEW,UAAU,CAAC;EACjF;EAEAC,UAAU,CAACZ,OAAe;IACxB,OAAO,IAAI,CAACJ,IAAI,CAACa,GAAG,CAAM,GAAG,IAAI,CAACZ,MAAM,YAAYG,OAAO,EAAE,CAAC;EAChE;;qBAnCWL,kBAAkB;EAAA;;WAAlBA,kBAAkB;IAAAkB,SAAlBlB,kBAAkB;IAAAmB,YAFjB;EAAM","names":["UserProfileService","http","apiUrl","constructor","analyzeProfile","childId","post","child_id","generateStory","profile","generateQuiz","story","body","startLearningJourney","get","submitQuiz","submission","getRewards","factory","providedIn"],"sourceRoot":"","sources":["/Users/koteswarrao@backbase.com/Documents/AI_NEW/financial_education_app/frontend/src/app/services/user-profile.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\nexport interface Profile {\n  childId: string;\n  name: string;\n  age: number;\n  grade: string;\n  country: string;\n  personalization: {\n    hobbies: string[];\n    favoriteSubjects: string[];\n    preferredLearningStyle: string;\n    pocketMoney: {\n      frequency: string;\n      amount: number;\n      currency: string;\n    };\n  };\n}\n\nexport interface ProfileAnalysisResponse {\n  success: boolean;\n  profile: Profile;\n  reasoning: {\n    hobbies: string;\n    subjects: string;\n    learningStyle: string;\n    pocketMoney: string;\n  };\n}\n\nexport interface Story {\n  storyId: string;\n  title: string;\n  concept: string;\n  difficulty: string;\n  theme: string;\n  fullStoryText: string;\n  panels: Array<{\n    panelId: number;\n    text: string;\n  }>;\n  learningPoints: string[];\n  nextRecommendedConcept: string;\n  childId: string;\n}\n\nexport interface StoryResponse {\n  success: boolean;\n  story: Story;\n}\n\nexport interface Quiz {\n  quizId: string;\n  concept: string;\n  difficulty: string;\n  questions: Array<{\n    id: number;\n    question: string;\n    options: string[];\n    correctAnswer: string;\n  }>;\n}\n\nexport interface QuizResponse {\n  success: boolean;\n  quiz: Quiz;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserProfileService {\n  private apiUrl = 'http://localhost:8000/api'; // Backend API URL\n\n  constructor(private http: HttpClient) {}\n\n  analyzeProfile(childId: string): Observable<ProfileAnalysisResponse> {\n    return this.http.post<ProfileAnalysisResponse>(`${this.apiUrl}/profile/analyze`, {\n      child_id: childId\n    });\n  }\n\n  generateStory(profile: Profile): Observable<StoryResponse> {\n    return this.http.post<StoryResponse>(`${this.apiUrl}/story/generate`, {\n      profile: profile\n    });\n  }\n\n  generateQuiz(story: Story, profile?: Profile): Observable<QuizResponse> {\n    const body: any = { story: story };\n    if (profile) {\n      body.profile = profile;\n    }\n    return this.http.post<QuizResponse>(`${this.apiUrl}/quiz/generate`, body);\n  }\n\n  startLearningJourney(childId: string): Observable<any> {\n    return this.http.get<any>(`${this.apiUrl}/start/${childId}`);\n  }\n\n  submitQuiz(childId: string, submission: any): Observable<any> {\n    return this.http.post<any>(`${this.apiUrl}/submit_quiz/${childId}`, submission);\n  }\n\n  getRewards(childId: string): Observable<any> {\n    return this.http.get<any>(`${this.apiUrl}/rewards/${childId}`);\n  }\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}