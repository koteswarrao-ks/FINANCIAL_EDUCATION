<div class="rewards-container">
  <!-- Animated Background Elements -->
  <div class="bg-animation">
    <div class="floating-star star-1">â­</div>
    <div class="floating-star star-2">âœ¨</div>
    <div class="floating-star star-3">ğŸŒŸ</div>
    <div class="floating-star star-4">ğŸ’«</div>
    <div class="floating-star star-5">â­</div>
  </div>

  <div class="header">
    <div class="header-content">
      <div class="header-icon">ğŸ…</div>
      <div>
        <h1>My Rewards</h1>
        <p class="header-subtitle">Your Achievement Dashboard</p>
      </div>
    </div>
    <div class="header-actions">
      <button class="btn-secondary" (click)="goToLeaderboard()">
        <span class="btn-icon">ğŸ†</span>
        <span>Leaderboard</span>
      </button>
      <button class="btn-back" (click)="goHome()">
        <span class="btn-icon">â†</span>
        <span>Home</span>
      </button>
    </div>
  </div>

  <!-- Loading State -->
  <div class="loading-section" *ngIf="isLoading">
    <div class="loading">
      <div class="spinner-wrapper">
        <div class="spinner"></div>
        <div class="spinner-ring"></div>
      </div>
      <h2>Loading Your Rewards...</h2>
      <p>Preparing your achievements...</p>
    </div>
  </div>

  <!-- Error State -->
  <div class="error-section" *ngIf="error && !isLoading">
    <div class="error-card">
      <div class="error-icon">âŒ</div>
      <h2>Oops! Something went wrong</h2>
      <p>{{ error }}</p>
      <button (click)="loadRewards()" class="btn-retry">ğŸ”„ Retry</button>
    </div>
  </div>

  <!-- Rewards Content -->
  <div class="rewards-content" *ngIf="rewards && !isLoading">
    <!-- Hero Stats Section -->
    <div class="hero-stats">
      <div class="stat-card points-hero">
        <div class="stat-glow"></div>
        <div class="stat-icon-wrapper">
          <div class="stat-icon">â­</div>
          <div class="icon-pulse"></div>
        </div>
        <div class="stat-content">
          <div class="stat-label">Total Points</div>
          <div class="stat-value-large">{{ rewards.points | number }}</div>
          <div class="stat-description">Keep earning to level up!</div>
        </div>
      </div>

      <div class="stat-card level-hero">
        <div class="stat-glow"></div>
        <div class="stat-icon-wrapper">
          <div class="stat-icon">ğŸ†</div>
          <div class="icon-pulse"></div>
        </div>
        <div class="stat-content">
          <div class="stat-label">Current Level</div>
          <div class="stat-value-large">Level {{ rewards.level }}</div>
          <div class="stat-description">You're doing amazing!</div>
        </div>
      </div>
    </div>

    <!-- Level Progress Card -->
    <div class="progress-card">
      <div class="progress-header">
        <h3>ğŸ¯ Level Progress</h3>
        <span class="level-badge">Level {{ rewards.level }}</span>
      </div>
      <div class="progress-visual">
        <div class="progress-bar-wrapper">
          <div class="progress-bar-bg">
            <div class="progress-fill-animated" [style.width.%]="getLevelProgress()">
              <div class="progress-shine"></div>
            </div>
            <div class="progress-stars">
              <span class="progress-star" *ngFor="let i of [1,2,3,4,5]">â­</span>
            </div>
          </div>
        </div>
        <div class="progress-info">
          <div class="progress-current">{{ rewards.points }} points</div>
          <div class="progress-separator">â†’</div>
          <div class="progress-next">{{ getPointsForNextLevel() }} points</div>
        </div>
        <div class="progress-goal">Next Level: {{ rewards.level + 1 }}</div>
      </div>
    </div>

    <!-- Badges Showcase -->
    <div class="badges-showcase">
      <div class="showcase-header">
        <h3>ğŸ–ï¸ Badges Collection</h3>
        <span class="badge-count">{{ rewards.badges?.length || 0 }} Badges</span>
      </div>
      <div class="badges-grid" *ngIf="rewards.badges && rewards.badges.length > 0">
        <div class="badge-card" *ngFor="let badge of rewards.badges; let i = index" [style.animation-delay.ms]="i * 100">
          <div class="badge-glow"></div>
          <div class="badge-icon-large">ğŸ–ï¸</div>
          <div class="badge-name-large">{{ badge }}</div>
          <div class="badge-shine"></div>
        </div>
      </div>
      <div class="no-badges-card" *ngIf="!rewards.badges || rewards.badges.length === 0">
        <div class="empty-badge-icon">ğŸ–ï¸</div>
        <h4>No Badges Yet</h4>
        <p>Complete quizzes to unlock amazing badges!</p>
        <div class="empty-badge-hint">âœ¨ Start your learning journey to earn your first badge</div>
      </div>
    </div>

    <!-- Motivational Card -->
    <div class="motivational-card">
      <div class="motivational-icon">ğŸ‰</div>
      <h3>Keep Learning!</h3>
      <p>You're on an amazing journey! Every quiz you complete brings you closer to new achievements and unlocks exciting rewards.</p>
      <div class="motivational-stars">
        <span>â­</span>
        <span>âœ¨</span>
        <span>ğŸŒŸ</span>
      </div>
    </div>
  </div>
</div>



